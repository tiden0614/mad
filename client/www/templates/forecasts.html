<ion-view title="Forecasts">
  <ion-nav-view name="menuContent" animation="slide-left-right"></ion-nav-view>
  <ion-nav-buttons side="right">
    <button class="button button-icon icon ion-alert-circled" ng-click="alert()"></button>
    <button menu-toggle="right" class="button button-icon icon ion-map" menu-close ng-click="search()"></button>
  </ion-nav-buttons>

  <ion-content  class="has-header" >
    <ion-list class="forecast-list">
      <ion-item ng-repeat="forecast in forecastList" href="#/app/forecastList/{{forecast.id}}"
                class="forecast-item" data-forecast-id="{{forecast.id}}" ng-click="expand('{{forecast.id}}');drawTemp('{{forecast.id}}')">
        <div class="forecast-brief-container">
          <div class="forecast-item-icon-container">
            <div class="weather-icon weather-icon-{{forecast.sky}}"></div>
            <div class="forecast-item-min-max-temp">{{forecast.minTemp}}~{{forecast.maxTemp}}</div>
          </div>
          <div class="forecast-item-statics-container">
            <div style="display:inline-block;">
              <h1>{{forecast.weekday}} {{forecast.day}}/{{forecast.month}}</h1>

              <p>Rain: {{forecast.rainfall_chance}}% of {{forecast.rainfall_amount}}mm</p>

              <p>Humidity: {{forecast.humidity}}%</p>
            </div>
            <!-- <span>{{forecast.currentTemp}}</span> -->
          </div>
        </div>

        <div class="forecast-detail-container" id="forecast-detail-{{forecast.id}}">

            <ion-scroll style="height:135px; width:auto;background-color:#2B59A2" direction="x" >
                <div style="width:1000px; height: 135px; background: url(../img/TempHourlyBG.png)">
                    <!-- add ng-src= later -->
                                <div class="temperature-hour-icon" ng-repeat="temp_hourly in temps_hourly" ng-style="{'left':temp_hourly.x+'px', 'top':temp_hourly.y+'px' }">
                                  <img src="/img/testICON.jpg" height="40" weight="40" position="absolute">
                                  <h4 style="color:white" ng-style="{'top':-temp_hourly.y+'px'}" v>{{temp_hourly.v}}</h4>
                               </div>
                               <div class="temperature-hour-icon" ng-repeat="temp_hourly in temps_hourly" ng-style="{'left':temp_hourly.x+'px','top':5+'px'}">
                                   <h4 style="color:white">{{temp_hourly.t}}</h4>
                               </div>
                </div>
            </ion-scroll>

            <ion-slide-box class="rainfall-slide-box" show-pager="false">
                <ion-slide class="rainfall-slide">
                    <div class="rainfall-item" ng-repeat="rainfallItem in rainfallList.slice(0, 4)">
                        <h4 style="color: white">{{rainfallItem.startHour}}/{{rainfallItem.endHour}}</h4>
                        <img style="width: 90%" ng-src="/img/rainfall/{{rainfallItem.imgSourceId}}.svg">
                        <h4 style="color: white">{{rainfallItem.expectedRainfallAmount}}mm</h4>
                        <h4 style="color: white">{{rainfallItem.chanceOfAnyRain}}%</h4>
                    </div>
                </ion-slide>

                <ion-slide class="rainfall-slide">
                    <div class="rainfall-item" ng-repeat="rainfallItem in rainfallList.slice(4, 8)">
                        <h4 style="color: white">{{rainfallItem.startHour}}/{{rainfallItem.endHour}}</h4>
                        <img style="width: 90%" ng-src="/img/rainfall/{{rainfallItem.imgSourceId}}.svg">
                        <h4 style="color: white">{{rainfallItem.expectedRainfallAmount}}mm</h4>
                        <h4 style="color: white">{{rainfallItem.chanceOfAnyRain}}%</h4>
                    </div>
                </ion-slide>
            </ion-slide-box>



          <h4>Rainfall Chance: {{forecast.detail.rainfall_chance}}</h4>
          <h4>Rainfall Amount: {{forecast.detail.rainfall_amount}}</h4>
          <h4>Humidity: {{forecast.detail.humidity}}</h4>
          <h4>Date: {{forecast.detail.day}}/{{forecast.detail.month}}/{{forecast.detail.year}}</h4>
        </div>
      </ion-item>
    </ion-list>
  </ion-content>
</ion-view>
